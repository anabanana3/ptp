<app-lateralOptions></app-lateralOptions>

<h1>Usuarios</h1>
<div class="">
  <button type="button" name="button" class="btn-inline textWhite bgColorPink"
          style="margin-bottom: 2%;" (click)="view(0)">
          Solicitantes
  </button>
  <button type="button" name="button" class="btn-inline textWhite bgColorPink"
          style="margin-bottom: 2%;" (click)="view(1)">
          Registrados
  </button>
  <button type="button" name="button" class="btn-inline textWhite bgColorPink"
          style="margin-bottom: 2%;" (click)="view(2)">
          Cancelados
  </button>
<!--
<div *ngIf="error">
  <app-error></app-error>
</div>
<div *ngIf="!error">
  <app-lateralOptions></app-lateralOptions>
  <br>
  <br>
  <br>
  <div style="float:right; width:70%;">
    <h1>Usuarios</h1>
    <div class="">
      <button type="button" name="button" class="btn-inline textoBlanco"
              style="margin-bottom: 2%;" (click)="view(0)">
              Solicitantes
      </button>
      <button type="button" name="button" class="btn-inline textoBlanco"
              style="margin-bottom: 2%;" (click)="view(1)">
              Registrados
      </button>
      <button type="button" name="button" class="btn-inline textoBlanco"
              style="margin-bottom: 2%;" (click)="view(2)">
              Cancelados
      </button>
    </div>
    <hr><br>

    <div >
      <a name="arriba"></a>
      <div id="alert">{{mensaje}}</div>
      <div >
        <div>
        <form>
          <label  for="tamPag">Tamaño página</label>
          <input type="number" min="1" id=tamPag #tamPagV>
          <button (click)="cambiarTamPag(tamPagV.value)" class="btn-inline">Cambiar tamaño</button>
        </form>
      </div>
        <table class="table">
          <thead class="thead">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nombre</th>
              <th scope="col">Email</th>
              <th scope="col">Profesión</th>
              <th scope="col">Asociación</th>
              <th *ngIf="tabla != 2" class="text-right" scope="col">Opciones</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let k of usuarios | keys; let i = index;">
              <!-- <td>{{i+1}}</td> -->
              <td>{{usuarios[k].ID_Usuario}}</td>
              <td *ngIf="usuarios[k].Nombre != undefined">{{usuarios[k].Nombre.split("'")[1]}}</td>
              <td *ngIf="usuarios[k].Email != undefined">{{usuarios[k].Email.split("'")[1]}}</td>
              <td>{{usuarios[k].Profesion}}</td>
              <td *ngIf="usuarios[k].Asociacion != undefined">{{usuarios[k].Asociacion.split("'")[1]}}</td>
              <td *ngIf="tabla != 2" class="text-right w230">
                <button type="button" class="btn btn-outline-danger icon-cancel span"
                        (click)="cancelUser(usuarios[k].ID_Usuario)"
                        title="Cancelar Usuario">
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- PAGINACION -->
     <ul class="pagination" *ngIf="paginas.length >1">
     <!--Boton de pagina anterior-->
       <li>
         <a (click)="pasarPagina(pagBack)">
           <span aria-hidden="true">&laquo;</span>
         </a>
       </li>
       <li *ngFor="let pag of paginas; let i=index">
         <a (click)="pasarPagina(i+1)">
           <span *ngIf="(i+1)==pagActual" class="active">{{i+1}}</span>
           <span *ngIf="(i+1)!=pagActual" >{{i+1}}</span>
         </a>
       </li>
       <!--Boton de pagina siguiente-->
       <li>
         <a (click)="pasarPagina(pagNext);">
           <span aria-hidden="true">&raquo;</span>
         </a>
       </li>
     </ul>

        <div  *ngIf="(user | keys).length === 0 && !loading"
              class="alert alert-info" role="alert">
          <strong>No hay</strong> registros que mostrar
        </div>

        <div  *ngIf="loading"
              class="alert alert-info" role="alert">
          <strong>Cargando...</strong>por favor espere
        </div>

      </div>

    </div>
  </div>
</div>
