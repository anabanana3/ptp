<!-- TODO: Cambiar la funcion a guardarDatos() para que la informacion se
almacene en la base de datos
el metodo de guardarDatos3() es para ver que la informacion se actualiza bien -->
 <form (ngSubmit)="guardarDatos3()"#form="ngForm">
  <h2 class="cherry">CONOCIMIENTO E INFORMACIÓN SOBRE LA MGF</h2>
  <div class="divLabels">
      <div class="divExp">
        <label>El implicado tiene conocimientos sobre la MGF</label>
         <span matTooltip="Posible pregunta Tengo entendido que
         en su país se realiza la ablación o el corte de los genitales de las
         mujeres. ¿Conoce esta práctica?." class="pointer icon-info info"></span>
       </div>

       <!-- <div class="divExp">
         <select [(ngModel)]="bloque2.Conoce_MGF" id="Prueba" name="Conoce_MGF">
           <option *ngFor="let op of opciones; let i = index"[value]="i">{{op}}
         </select>
        <br>
      </div> -->

      <div class="divExp">
        <label for="Conoce_MGFSI">Si</label>
        <input type="radio" [(ngModel)]="bloque2.ConoceMGF" id="Conoce_MGFSI" value="1" name="Conoce_MGF">
        <label for="Conoce_MGFNO">No</label>
        <input type="radio" [(ngModel)]="bloque2.ConoceMGF" id="Conoce_MGFNO" value="0" name="Conoce_MGF">
      </div>

      <div class="divExp">
       <label>La MGF se realiza en la comunidad de origen</label>
    </div>
    <div class="divExp">
       <select [(ngModel)]="bloque2.MGF_realizada_com_origen" name="MGF_realizada_com_origen">
         <option *ngFor="let op of opciones; let i = index"[value]="i">{{op}}
       </select>
     </div>
   </div>

  <div class="divLabels">
    <div class="divExp">
       <label>Posicionamiento del padre frente a la MGF</label>
       <span matTooltip="¿Usted está de acuerdo con esta práctica? ¿Y su marido, y su
       esposa, y su pareja? ¿Qué opina su familia sobre la ablación?" class="pointer icon-info info"></span>
    </div>
    <div class="divExp">
      <select [(ngModel)]="bloque2.Pos_padre" name="Pos_padre">
       <option *ngFor="let op of opciones2; let i = index"[value]="i">{{op}}
      </select>
    </div>

    <div class="divExp">
     <label>Posicionamiento de la madre frente a la MGF</label>
   </div>
   <div class="divExp">
     <select [(ngModel)]="bloque2.Pos_madre" name="Pos_madre">
       <option *ngFor="let op of opciones2; let i = index"[value]="i">{{op}}
     </select>
  </div>
</div>

<div class="divLabelsDeUno">
  <div class="divExpDeUno">
    <label>Posicionamiento de la familia en el país de origen</label>
  </div>

 <div class="divExpDeUno">
   <select [(ngModel)]="bloque2.Pos_familia" name="Pos_familia">
     <option *ngFor="let op of opciones2; let i = index"[value]="i">{{op}}
   </select>
 </div>
</div>


  <label>Otros aspectos a tener en cuenta sobre el posicionamiento de la familia</label>

  <textarea class="textareaBl2" [(ngModel)]="bloque2.Otros" name="Otros" placeholder="Otros aspectos destacables"></textarea>

  <label>Significado de la MGF para el implicado en el expediente</label>

  <textarea class="textareaBl2" [(ngModel)]="bloque2.Significado_MGF" name="Significado_MGF" placeholder="Descripcion del significado de la MGF para los implicados"></textarea>

  <label>Formato de intervención</label>
  <span matTooltip="Texto libre para indicar cual a sido el formato de intervención frente a las personas implicadas en el expediente" class="pointer icon-info info"></span>

  <textarea class="textareaBl2" [(ngModel)]="bloque2.Formato_intervencion" name="Formato_intervencion" placeholder="Formato de intervención"></textarea>

   <label>Consejos para otros profesionales</label>
   <span matTooltip="Texto libre para exponer consejos a otros profesionales que usen AISHA." class="pointer icon-info info"></span>

 <textarea class="textareaBl2" [(ngModel)]="bloque2.Consejos" name="Consejos" placeholder="Consejos para otros profesionales"></textarea>
  <!-- <hr> -->

 <div class="grupoForm">
 <h2 class="text16 textPink">HISTORIA DE PARTOS
   <span *ngIf="hayParto==false" (click)="hayParto =!hayParto" class="pointer icon-plus"></span>
   <span *ngIf="hayParto==true" (click)="hayParto =!hayParto" class="pointer icon-minus"></span>
 </h2>
 <div *ngIf="hayParto==true">
       <label>Número de partos de los que desea guardar información</label>

       <input id="numPartos" name=Num_Partos type="number" min="1" #Npartos>
<br>
   <button mat-raised-button (click)="openDialog(Npartos.value)" type="button" name="button" class="btn-border bgColorPink">Ver Partos</button>
 <!-- <div class="partos">
   <div class="partoContainer" *ngFor="let p of partos; let i= index">
     <p> parto numero {{i+1}}</p>
     <label>Edad de la madre en el momento del parto </label>
     <input [(ngModel)]="datosPartos[i].Edad_Madre"  name="Edad_Madre" type="number">
     <br>
     <label>Fecha del parto</label>
     <input type="date">
     <br> -->
     <!--Este valor lo voy a calcular en funcion de la fecha que introduzca el usuario-->
     <!-- <label>Edad del nacido(Ver si lo podemos hacer automatico)</label>
     <input [(ngModel)]="datosPartos[i].Edad_Nacido" name="Edad_Nacido" type="number">
     <br>
     <label> Tiempo expulsivo</label>
     <input [(ngModel)]="datosPartos[i].Tiempo_Expulsivo" name="Tiempo_Expulsivo" type="number">
     <br>
     <label> Tiempo de dialtación</label>
     <input [(ngModel)]="datosPartos[i].Tiempo_Dilatacion" name="Tiempo_Dilatacion" type="number">
     <br>
     <label> Duración del parto</label>
     <input [(ngModel)]="datosPartos[i].Duracion_Parto" name="Duracion_Parto" type="number">
     <br>
     <label>Formula obstretica realizada</label>
     <select [(ngModel)]="datosPartos[i].ID_Formula" name="ID_Formula">
       <option *ngFor="let f of formulas" [value]="f.ID_Formula">{{f.Nombre}}</option>
     </select>
   <br>
   <label>Test APGAR</label>
   <input [(ngModel)]="datosPartos[i].Test_APGAR" name="Test_APGAR" type="number">
   <br>
   <label>Tipo de mutilación que padece la madre en el momento del parto</label>
   <select [(ngModel)]="datosPartos[i].ID_Mutilacion" name="ID_Mutilacion">
       <option *ngFor="let t of tiposMutilacion" [value]="t.ID_Mutilacion">{{t.Nombre}} {{t.Tipo}}</option>
   </select>
   <br>

   <p>Seleccione las complicaciones sufrió la madre durante el parto</p>
   <span matTooltip="Seleccione todas las complicaciones que sufra la madre ddurante el parto. Puede selecionar más de una" class="pointer icon-info info"></span>
   <div *ngFor="let c of compMadre; let k = index">
     <label for="{{i}}compMadre{{k}}">{{c.Nombre}}</label> -->
     <!-- [(ngModel)]="datosPartos[i].compMadre" -->
     <!-- <input id="{{i}}compMadre{{k}}" [(ngModel)]="datosPartos[i].CompMadre[k]" name="{{i}}compMadre{{k}}" value="c.ID_Complicacion" type="checkbox">
   </div>
   <br><br>
   <p>Seleccione las complicaciones sufrió el recien nacido durante el parto</p>
   <span matTooltip="Seleccione todas las complicaciones que sufrioel recien nacido durante el parto. Puede selecionar más de una" class="pointer icon-info info"></span>
   <div *ngFor="let c of compNacido let j= index">
     <label for="{{i}}compNacido{{j}}">{{c.Nombre}}</label>
     <input id="{{i}}compNacido{{j}}" [(ngModel)]="datosPartos[i].compNacido[j]" name="{{i}}compNacido{{j}}" type="checkbox">
   </div>
 </div>

 </div> -->


 </div>
 </div>
<hr>
 <div class="centrar">
   <button class="btn-relleno" type="submit">Guardar</button>
 </div>
 </form>

 <!-- esto es lo que sale : false INVALID
 <p>
   {{this.form.valid}}

   {{this.form.status}}
 </p>-->
